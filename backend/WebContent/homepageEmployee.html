<!DOCTYPE html>
<html>
<head>
<title>Timesheet Management</title>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<style type="text/css">
body {
	height: 1000px;
	width: 1110px;
	margin: 10px;
	padding: 0;
	background-image: url('images/background1.jpg');
	background-size: 100%;
}

td {
	width: 50%;
	table-layout: fixed;
}

table {
	width: 500px;
	table-layout: fixed;
}
</style>
<link href="tabcontent/template1/tabcontent.css" rel="stylesheet"
	type="text/css" />
<script src="tabcontent/tabcontent.js" type="text/javascript"></script>
<script src="http://code.jquery.com/jquery-1.9.1.js">
</script>


<script type="text/javascript">
	function populateHeaderData(name, date, job) {
		document.getElementById('loggedUserName').innerHTML = name;
		document.getElementById('date').innerHTML= date;
		document.getElementById('loggedUserJob').innerHTML = job;
	}
	
	function getLoginDataFromServer() {
		$.ajax({
			type: "GET",
			url: "HomepageServlet",
			data: {phase: "init"},
			success: function(data, textStatus, jqXHR){
				console.log("ok ok ok");
				populateHeaderData(data.name, data.date, data.job);
			},
			error:function(){
	            alert("failure");
	            console.log('There is an error');
	        }
		});
	}
	
	$(document).ready(function() {
		getLoginDataFromServer();
	});

	</script>
</head>
<body>

	<table style="width: 100%">
		<tr>
			<td align="left" style="width: 100%">
				<label>Current date: </label><p id="date"></p>
			</td>

			<td align="right" style="width: 100%">
				<label>You are logged in as: </label><p id="loggedUserName"></p>
				<label>You work here as: </label><p id="loggedUserJob"></p>

				<button id="homeBtn"
					style="background-color: lightblue; border-style: inset;">Home</button>
				<button id="settingsBtn" onclick="">Settings</button>
				<button id="logoutBtn" onclick="">Logout</button>
			</td>
		</tr>
	</table>

	<br>

	<div id="view1">
		<br>
		<p>
			Last monthly timesheet status: <font color="blue">SUBMITTED</font>
		</p>
		<p>Status of past monthly timesheets:</p>


		<table border="1" bgcolor="#5D7B9D" cellpadding="0" cellspacing="0">
			<tr>
				<td>Monthly timesheets<br>(date submitted)
				</td>
				<td>Status</td>
			</tr>
		</table>

		<div style="overflow: auto; height: 125px; width: 525px;">
			<table border="1" cellpadding="0" cellspacing="0">
				<tr>
					<td>August 2013 <br> 1.09.2013
					</td>
					<td>APPROVED</td>
				</tr>
				<tr>
					<td>September 2013 <br> 1.10.2013
					</td>
					<td>APPROVED</td>
				</tr>
				<tr>
					<td>October 2013 <br> 1.11.2013
					</td>
					<td><font color="blue"><u>SUBMITTED</u></font></td>
				</tr>
				<tr>
					<td>November 2013</td>
					<td><font color="blue"><u>OPEN</u></font></td>
				</tr>
			</table>
		</div>
	</div>
</body>
</html>
